/**
 * @flow
 * @module sequence
 */

import type {
  NullableBoolean,
  DownstreamPipeline,
} from './types';

/**
 * @public
 * @constructor
 * @since 1.0.0
 * @memberOf sequence
 *
 * Sequence class constructor.
 * @param {IterableObject} source the source of the sequence.
 */
export default function Sequence(source : IterableObject) {
  this.stream = (downstream : DownstreamPipeline) : NullableBoolean => {
    // eslint-disable-next-lint no-restricted-syntax
    for (const key in source) {
      if (downstream(source[key], key, source) === false) {
        return false;
      }
    }
    return true;
  };
}
